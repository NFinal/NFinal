@* Generator: Template
    GeneratePrettyNames : true *@
@functions{
    public NFinal.Compile.SqlTemplate.Model.IdIncrement Model { get; set; }
}
--oracle数据库专用增加id自增的sql语句
@{foreach(var table in Model.tables){
@:--为表@{@table.name}增加自增字段
@:--创建自增序列
@:CREATE SEQUENCE @{@table.name}_id_sequence
@:INCREMENT BY 1 -- 每次加几个
@:START WITH 1 -- 从1开始计数
@:NOMAXVALUE -- 不设置最大值
@:NOCYCLE -- 一直累加，不循环
@:NOCACHE; -- 不建缓冲区
@:--创建插入触发器，更新id字段
@:CREATE OR REPLACE TRIGGER @{@table.name}_id_triger BEFORE
@:INSERT ON @{@table.name} FOR EACH ROW WHEN (new.id is null)--只有在id为空时，启动该触发器生成id号
@:begin
@:select @{@table.name}_id_sequence.nextval into: new.id from dual;
@:end;
}